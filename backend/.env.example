# =========================
# SERVER CONFIGURATION
# =========================
PORT=5000                 # Port your Express server will run on
# Comma-separated list of allowed browser origins for CORS
# Example includes common dev servers (5500: Live Server, 5173: Vite, 3000: React)
ALLOWED_ORIGINS=http://localhost:5000,http://127.0.0.1:5000
# Accept any localhost origin on any port in development (true/false)
ALLOW_LOCALHOST_WILDCARD=true

# =========================
# MONGODB CONFIGURATION
# =========================
# MONGO_URI: Connection string to central MongoDB Atlas cluster
# Instructions:
# 1. Each teammate should create their own database user in the cluster
# 2. Replace <db_username> and <db_password> with your credentials
# 3. Optionally, specify a database name in place of <databaseName>
MONGO_URI=mongodb+srv://<db_username>:<db_password>@cms-central-cluster.kxorrct.mongodb.net/<databaseName>?retryWrites=true&w=majority&appName=cms-central-cluster

# =========================
# EMAIL NOTIFICATIONS
# =========================
# SMTP configuration for admin email notifications
# Leave blank to disable email notifications
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# =========================
# JWT CONFIGURATION
# =========================
JWT_SECRET=your-super-secret-jwt-key

# =========================
# RAZORPAY CONFIGURATION
# =========================
# Razorpay API credentials for subscription payments
RAZORPAY_KEY_ID=your-razorpay-key-id
RAZORPAY_KEY_SECRET=your-razorpay-key-secret

# =========================
# WEBSOCKET CONFIGURATION
# =========================
# Set to 'true' to use simple WebSocket without authentication
# Set to 'false' or leave blank for authenticated WebSocket
USE_SIMPLE_WEBSOCKET=true

# =========================
# NOTIFICATION CONFIGURATION
# =========================
# General notification settings
NOTIFICATIONS_ENABLED=true    # Set to 'false' to disable all notifications
QUIET_MODE=false              # Set to 'true' for minimal notifications
CRITICAL_ONLY=false           # Set to 'true' to only show critical events

# Activity thresholds
ACTIVITY_THRESHOLD=25         # Number of operations before high activity alert
ACTIVITY_TIME_WINDOW=900000   # Time window for activity tracking (15 minutes in ms)
RESET_INTERVAL=1800000        # Reset counters every 30 minutes
COOLDOWN_PERIOD=300000        # 5 min cooldown between same user alerts

# Time bucket configuration
TIME_BUCKETS_ENABLED=true     # Enable time-based notification bucketing
HOURLY_THRESHOLD=5            # Minimum notifications for hourly summary
DAILY_THRESHOLD=10            # Minimum notifications for daily summary
BUCKET_CLEANUP_INTERVAL=3600000  # Clean up old buckets every hour (in ms)
BUCKET_RETENTION_HOURS=24     # Keep hourly buckets for 24 hours
BUCKET_RETENTION_DAYS=7       # Keep daily buckets for 7 days

# =========================
# CLOUDFLARE TUNNEL CONFIGURATION
# =========================
# Cloudflare Tunnel settings for public image access
# Path to cloudflared.exe (leave blank to use default: ./cloudflared.exe)
CLOUDFLARED_PATH=./cloudflared.exe
# Local port for tunnel (default: 3000, but backend runs on 5000)
LOCAL_PORT=5000

# =========================
# CLOUDFLARE R2 CONFIGURATION (LEGACY)
# =========================
# Cloudflare R2 settings for public image storage (now replaced by Tunnel)
# Leave blank to disable R2 functionality
CLOUDFLARE_R2_ACCOUNT_ID=your-account-id
CLOUDFLARE_R2_ACCESS_KEY_ID=your-access-key-id
CLOUDFLARE_R2_SECRET_ACCESS_KEY=your-secret-access-key
CLOUDFLARE_R2_BUCKET_NAME=your-bucket-name
# Optional: Custom domain for R2 public URLs (e.g., cdn.yourdomain.com)
CLOUDFLARE_R2_PUBLIC_DOMAIN=

# =========================
# SEEDING CONFIGURATION
# =========================
# Set to 'true' to automatically run seeds on server startup
AUTO_SEED=false
# Seed type: 'core', 'main', 'empty', or 'roles'
SEED_TYPE=core
