<!-- USER MANAGEMENT ENDPOINTS -->
<section id="users-endpoints" class="section">
    <h2>User Management</h2>
    <p>Manage users in the system. Requires Admin or SuperAdmin role.</p>

    <div id="users-create" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method post">POST</span>
            <span class="endpoint-path">/api/users</span>
            <span>Create user with role</span>
        </div>
        <div class="endpoint-body">
            <p>Create a new user with specific role. Admins can create editors, SuperAdmins can create any role.</p>
            <h4>Headers</h4>
            <table class="param-table">
                <tr><th>Header</th><th>Value</th><th>Required</th></tr>
                <tr><td>Authorization</td><td>Bearer {token}</td><td><span class="badge required">Required</span></td></tr>
            </table>
            <h4>Request Body</h4>
            <table class="param-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td>username</td><td>string</td><td><span class="badge required">Required</span></td><td>Unique username</td></tr>
                <tr><td>email</td><td>string</td><td><span class="badge required">Required</span></td><td>Valid email</td></tr>
                <tr><td>password</td><td>string</td><td><span class="badge required">Required</span></td><td>Min 6 characters</td></tr>
                <tr><td>role</td><td>string</td><td><span class="badge required">Required</span></td><td>editor, admin, superadmin</td></tr>
                <tr><td>tenant</td><td>string</td><td><span class="badge optional">Optional</span></td><td>Tenant ID</td></tr>
            </table>
            <div class="code-block">curl -X POST http://localhost:5000/api/users \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "username": "new_editor",
    "email": "editor@example.com",
    "password": "secure123",
    "role": "editor"
  }'</div>
            <h4>Response (201 Created)</h4>
            <div class="code-block">{
  "success": true,
  "message": "User created successfully",
  "user": {
    "_id": "678c9b7b2201c52b170dc068",
    "username": "new_editor",
    "email": "editor@example.com",
    "role": "editor",
    "isActive": true,
    "createdAt": "2024-01-15T10:30:00.000Z"
  }
}</div>
        </div>
    </div>

    <div id="users-list" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method get">GET</span>
            <span class="endpoint-path">/api/users</span>
            <span>Get all users</span>
        </div>
        <div class="endpoint-body">
            <p>Retrieve all users. Results filtered based on role (Admins see tenant users, SuperAdmins see all).</p>
            <h4>Query Parameters</h4>
            <table class="param-table">
                <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                <tr><td>page</td><td>number</td><td>Page number (default: 1)</td></tr>
                <tr><td>limit</td><td>number</td><td>Items per page (default: 10)</td></tr>
                <tr><td>role</td><td>string</td><td>Filter by role</td></tr>
                <tr><td>isActive</td><td>boolean</td><td>Filter by active status</td></tr>
            </table>
            <div class="code-block">curl -X GET "http://localhost:5000/api/users?page=1&limit=10" \
  -H "Authorization: Bearer YOUR_TOKEN"</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "users": [
    {
      "_id": "678c9b7b2201c52b170dc067",
      "username": "superadmin",
      "email": "superadmin@jcms.com",
      "role": "superadmin",
      "isActive": true,
      "createdAt": "2024-01-15T10:30:00.000Z"
    }
  ],
  "pagination": {
    "total": 15,
    "page": 1,
    "pages": 2
  }
}</div>
        </div>
    </div>

    <div id="users-get" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method get">GET</span>
            <span class="endpoint-path">/api/users/:userId</span>
            <span>Get user by ID</span>
        </div>
        <div class="endpoint-body">
            <p>Retrieve a specific user by their ID.</p>
            <div class="code-block">curl -X GET http://localhost:5000/api/users/678c9b7b2201c52b170dc067 \
  -H "Authorization: Bearer YOUR_TOKEN"</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "user": {
    "_id": "678c9b7b2201c52b170dc067",
    "username": "superadmin",
    "email": "superadmin@jcms.com",
    "role": "superadmin",
    "isActive": true,
    "tenant": null,
    "createdAt": "2024-01-15T10:30:00.000Z",
    "updatedAt": "2024-01-15T10:30:00.000Z"
  }
}</div>
        </div>
    </div>

    <div id="users-update" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method put">PUT</span>
            <span class="endpoint-path">/api/users/:userId</span>
            <span>Update user</span>
        </div>
        <div class="endpoint-body">
            <p>Update user information. Cannot modify system SuperAdmin.</p>
            <h4>Request Body</h4>
            <table class="param-table">
                <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                <tr><td>username</td><td>string</td><td>New username</td></tr>
                <tr><td>email</td><td>string</td><td>New email</td></tr>
                <tr><td>role</td><td>string</td><td>New role (SuperAdmin only)</td></tr>
                <tr><td>isActive</td><td>boolean</td><td>Active status</td></tr>
            </table>
            <div class="code-block">curl -X PUT http://localhost:5000/api/users/678c9b7b2201c52b170dc068 \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "email": "newemail@example.com",
    "isActive": true
  }'</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "message": "User updated successfully",
  "user": {
    "_id": "678c9b7b2201c52b170dc068",
    "username": "new_editor",
    "email": "newemail@example.com",
    "role": "editor",
    "isActive": true
  }
}</div>
        </div>
    </div>

    <div id="users-delete" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method delete">DELETE</span>
            <span class="endpoint-path">/api/users/:userId</span>
            <span>Delete user (soft delete)</span>
        </div>
        <div class="endpoint-body">
            <p>Soft delete a user by setting isActive to false. Cannot delete system SuperAdmin.</p>
            <div class="code-block">curl -X DELETE http://localhost:5000/api/users/678c9b7b2201c52b170dc068 \
  -H "Authorization: Bearer YOUR_TOKEN"</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "message": "User deleted successfully"
}</div>
        </div>
    </div>
</section>

<!-- CONTENT MANAGEMENT ENDPOINTS -->
<section id="content-endpoints" class="section">
    <h2>Content Management</h2>
    <p>Create and manage content. Requires Editor role or above.</p>

    <div id="content-create" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method post">POST</span>
            <span class="endpoint-path">/api/content</span>
            <span>Create content</span>
        </div>
        <div class="endpoint-body">
            <p>Create new content item.</p>
            <h4>Request Body</h4>
            <table class="param-table">
                <tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr>
                <tr><td>title</td><td>string</td><td><span class="badge required">Required</span></td><td>Content title</td></tr>
                <tr><td>body</td><td>string</td><td><span class="badge required">Required</span></td><td>Content body</td></tr>
                <tr><td>status</td><td>string</td><td><span class="badge optional">Optional</span></td><td>draft, published, scheduled</td></tr>
                <tr><td>category</td><td>string</td><td><span class="badge optional">Optional</span></td><td>Content category</td></tr>
                <tr><td>tags</td><td>array</td><td><span class="badge optional">Optional</span></td><td>Array of tags</td></tr>
            </table>
            <div class="code-block">curl -X POST http://localhost:5000/api/content \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "My First Article",
    "body": "This is the content body...",
    "status": "draft",
    "category": "blog",
    "tags": ["tutorial", "javascript"]
  }'</div>
            <h4>Response (201 Created)</h4>
            <div class="code-block">{
  "success": true,
  "content": {
    "_id": "678c9b7b2201c52b170dc069",
    "title": "My First Article",
    "body": "This is the content body...",
    "status": "draft",
    "category": "blog",
    "tags": ["tutorial", "javascript"],
    "author": "678c9b7b2201c52b170dc067",
    "createdAt": "2024-01-15T10:30:00.000Z"
  }
}</div>
        </div>
    </div>

    <div id="content-list" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method get">GET</span>
            <span class="endpoint-path">/api/content</span>
            <span>List all content</span>
        </div>
        <div class="endpoint-body">
            <p>Retrieve all content items with pagination and filtering.</p>
            <h4>Query Parameters</h4>
            <table class="param-table">
                <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                <tr><td>page</td><td>number</td><td>Page number</td></tr>
                <tr><td>limit</td><td>number</td><td>Items per page</td></tr>
                <tr><td>status</td><td>string</td><td>Filter by status</td></tr>
                <tr><td>category</td><td>string</td><td>Filter by category</td></tr>
            </table>
            <div class="code-block">curl -X GET "http://localhost:5000/api/content?status=published" \
  -H "Authorization: Bearer YOUR_TOKEN"</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "content": [
    {
      "_id": "678c9b7b2201c52b170dc069",
      "title": "My First Article",
      "status": "published",
      "author": {
        "_id": "678c9b7b2201c52b170dc067",
        "username": "superadmin"
      },
      "createdAt": "2024-01-15T10:30:00.000Z"
    }
  ],
  "pagination": {
    "total": 25,
    "page": 1,
    "pages": 3
  }
}</div>
        </div>
    </div>

    <div id="content-get" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method get">GET</span>
            <span class="endpoint-path">/api/content/:id</span>
            <span>Get content by ID</span>
        </div>
        <div class="endpoint-body">
            <p>Retrieve a specific content item.</p>
            <div class="code-block">curl -X GET http://localhost:5000/api/content/678c9b7b2201c52b170dc069 \
  -H "Authorization: Bearer YOUR_TOKEN"</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "content": {
    "_id": "678c9b7b2201c52b170dc069",
    "title": "My First Article",
    "body": "This is the content body...",
    "status": "published",
    "category": "blog",
    "tags": ["tutorial", "javascript"],
    "author": {
      "_id": "678c9b7b2201c52b170dc067",
      "username": "superadmin",
      "email": "superadmin@jcms.com"
    },
    "createdAt": "2024-01-15T10:30:00.000Z",
    "updatedAt": "2024-01-15T11:00:00.000Z"
  }
}</div>
        </div>
    </div>

    <div id="content-update" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method put">PUT</span>
            <span class="endpoint-path">/api/content/:id</span>
            <span>Update content</span>
        </div>
        <div class="endpoint-body">
            <p>Update an existing content item.</p>
            <div class="code-block">curl -X PUT http://localhost:5000/api/content/678c9b7b2201c52b170dc069 \
  -H "Authorization: Bearer YOUR_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "Updated Article Title",
    "body": "Updated content body..."
  }'</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "message": "Content updated successfully",
  "content": {
    "_id": "678c9b7b2201c52b170dc069",
    "title": "Updated Article Title",
    "body": "Updated content body...",
    "status": "draft"
  }
}</div>
        </div>
    </div>

    <div id="content-publish" class="endpoint">
        <div class="endpoint-header" onclick="toggleEndpoint(this)">
            <span class="method post">POST</span>
            <span class="endpoint-path">/api/content/:id/publish</span>
            <span>Publish content</span>
        </div>
        <div class="endpoint-body">
            <p>Publish a draft content item.</p>
            <div class="code-block">curl -X POST http://localhost:5000/api/content/678c9b7b2201c52b170dc069/publish \
  -H "Authorization: Bearer YOUR_TOKEN"</div>
            <h4>Response (200 OK)</h4>
            <div class="code-block">{
  "success": true,
  "message": "Content published successfully",
  "content": {
    "_id": "678c9b7b2201c52b170dc069",
    "title": "My First Article",
    "status": "published",
    "publishedAt": "2024-01-15T12:00:00.000Z"
  }
}</div>
        </div>
    </div>
</section>
